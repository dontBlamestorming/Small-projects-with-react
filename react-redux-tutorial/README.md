## 리덕스를 사용하여 리액트 애플리케이션 상태 관리하기

### UI 준비하기

- 리액트 프로젝트에서 리덕스를 사용할 때 가장 많이 사용하는 패턴은 프레젠테이셔널 컴포넌트와 컨테이너 컴포넌트를 분리하는 것이다.
- 이와 같은 것은 필수사항은 아니지만 코드의 재사용성도 높이고 관심사의 분리가 이루어져 UI를 작성할 때 더 집중할 수 있다.
- UI에 관련된 프레젠테이셔널 컴포넌트는 src/components 경로에 저장, 컨테이너 컴포넌트는 src/containers에 저장한다.

1. 프레젠테이셔널 컴포넌트(presentational component)
   > 상태관리가 이루어지지 않고 props를 받아와서 화면에 UI를 보여주기만 하는 컴포넌트를 의미한다.
2. 컨테이너 컴포넌트(container component)
   > 리덕스와 연동되어 있는 컴포넌트로 리덕스로부터 상태를 받아오기도 하고 리덕스 스토어에 액션을 디스패치하기도 한다.

### 리덕스 관련 코드 작성하기(Ducks pattern)

- 리덕스를 사용할 때는 액션 타입, 액션 생성 함수, 리듀서 코드를 작성해야 한다. 이 코드들을 각각 다른 파일에 작성하는 방법이 있고 기능별로 묶어서 파일 하나에 작성하는 방법도 있다.
- 가장 일반적인 구조(공식)로 actions, constants, reducers라는 세 개의 디렉터리를 만들고 그 안에 기능별로 파일을 하나씩 만드는 구조가 있다. 로직에 따라 분리의 편의성이 있긴 하지만 새로운 액션을 만들 때마다 세 종류의 파일을 모두 수정해야 하기 때문에 불편하기도 하다.
- 액션 타입, 액션 생성 함수, 리듀서 함수를 파일 하나에 몰아서 작성하는 방식을 Ducks 패턴이라고 부르며 위의 불편함을 느낀 개발자들이 사용한다.

1. 가장 먼저 액션 타입을 정의해야 한다. '모듈 이름 / 액션 이름' 형태로 작성한다. 모듈 이름은 나중에 프로젝트가 커졌을 때 액션의 이름이 충돌하지 않게 해준다.
   > const INCREASE = 'counter/INCREASE';
2. 액션 생성 함수에서 파라미터로 들어가는 값은 액션 객체 안에 추가 필드로 들어가게 됨. 이 중 insert 함수는 파라미터 이외에도 선언되어 있는 id값에 의존한다.
3. 리듀서 함수는 불변성을 유지해야하며, 배열에 변화를 줄 때는 기존처럼 배열 내장 함수를 사용하여 구현
